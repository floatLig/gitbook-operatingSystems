# 2.4 线程概念

## 线程的实现方式

### 1. 用户级的实现

在这种方式下，整个管理线程的**线程库**放在**用户空间**，管理线程的工作全部由应用程序完成，核心对线程一无所知。

**核心空间**有一个进程表，用来记载系统中各个进程的情况。

用户线程方式的优点如下：

1. 线程切换速度很快，无需系统调度
2. 调度算法可以是应用程序专用的。
3. 用户级线程可以运行在任何操作系统上，包括不支持线程机制的操作系统。

用户级线程的主要缺点包括：

1. 系统调用的**阻塞问题**。在典型的操作系统中，多数系统调用是阻塞式的。当一个线程执行系统调用时，不仅它自己被阻塞，而且在同一个进程内的所有线程都被阻塞。
2. 在单纯用户级线程方式中，多线程应用程序**不具有多处理器的优点**。因为核心只为每一个进程一次分配一个处理器，每次只执行该进程的一个线程，在该线程自愿放弃CPU之前，不会执行该进程内的其他线程。

### 2. 核心级线程

在这种方式下，核心知道线程存在，并对它们实施管理。线程表不在每个进程的空间中，而在核心空间中。

